flowchart {

Flowchart = "flowchart" name "{" Skewer+ "}"
Skewer = "skewer" name "{" Action "}"
Action 
  = Unless
  | Jump
  | Label
  | Call
  | Send

Unless = "unless" name name "/" name Action?
Jump = ">" name Action?
Call = name Action?
Send = name Value Action?
Label = number ":" Action?

keyword = "flowchart" | "skewer"

bracket = "{" | "}" | "(" | ")" | "[" | "]"
separator = ":" | ">" | "/" | bracket

name = namecharFirst namecharRest*
namecharFirst = ~keyword namechar 
namecharRest = ~keyword namechar

namechar = ~space ~separator any

number = digit+

space
 += comment

comment
  = "//" (~"\n" any)* "\n"  -- singleLine
  | "/*" (~"*/" any)* "*/"  -- multiLine

string = dq (~dq any)* dq
dq = "\""

Value = name | number

}


